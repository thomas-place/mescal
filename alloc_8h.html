<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mescal: alloc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href=".custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Mescal
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('alloc_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">alloc.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Macros and functions to help memory allocation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="error_8h_source.html">error.h</a>&quot;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div>
<p><a href="alloc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab1cd6d564a53c48b9fff06fc1b642a06" id="r_ab1cd6d564a53c48b9fff06fc1b642a06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a>(p,  num_objects)</td></tr>
<tr class="memdesc:ab1cd6d564a53c48b9fff06fc1b642a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for allocating memory using the malloc() function.  <br /></td></tr>
<tr class="separator:ab1cd6d564a53c48b9fff06fc1b642a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5038968dee3708c3e33a35f818c16452" id="r_a5038968dee3708c3e33a35f818c16452"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5038968dee3708c3e33a35f818c16452">CALLOC</a>(p,  num_objects)</td></tr>
<tr class="memdesc:a5038968dee3708c3e33a35f818c16452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for allocating memory using the calloc() function.  <br /></td></tr>
<tr class="separator:a5038968dee3708c3e33a35f818c16452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698d049d23598a7e3997ecca97ac7e54" id="r_a698d049d23598a7e3997ecca97ac7e54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a698d049d23598a7e3997ecca97ac7e54">REALLOC</a>(p,  num_objects)</td></tr>
<tr class="memdesc:a698d049d23598a7e3997ecca97ac7e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for reallocating memory using the realloc() function.  <br /></td></tr>
<tr class="separator:a698d049d23598a7e3997ecca97ac7e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa44a749b8ec174a5780a521e07b9b86b" id="r_aa44a749b8ec174a5780a521e07b9b86b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa44a749b8ec174a5780a521e07b9b86b">CHECK_NULL</a>(n, ...)</td></tr>
<tr class="memdesc:aa44a749b8ec174a5780a521e07b9b86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to test if one or more pointers are NULL.  <br /></td></tr>
<tr class="separator:aa44a749b8ec174a5780a521e07b9b86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4310f3e2cf0b85c13534389cc7479f33" id="r_a4310f3e2cf0b85c13534389cc7479f33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4310f3e2cf0b85c13534389cc7479f33">check_null</a> (const char *function, char *file, int line, int n,...)</td></tr>
<tr class="memdesc:a4310f3e2cf0b85c13534389cc7479f33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not use this function directly; instead, use the macro <a class="el" href="#aa44a749b8ec174a5780a521e07b9b86b" title="Macro to test if one or more pointers are NULL.">CHECK_NULL()</a>, which includes the error's location in the source code in the message.  <br /></td></tr>
<tr class="separator:a4310f3e2cf0b85c13534389cc7479f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95dd19b1b2af33029f7ccb78d5f17039" id="r_a95dd19b1b2af33029f7ccb78d5f17039"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95dd19b1b2af33029f7ccb78d5f17039">multiple_free</a> (void *p,...)</td></tr>
<tr class="memdesc:a95dd19b1b2af33029f7ccb78d5f17039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to free memory using the free() function.  <br /></td></tr>
<tr class="separator:a95dd19b1b2af33029f7ccb78d5f17039"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Macros and functions to help memory allocation. </p>
<p>The macros <a class="el" href="#ab1cd6d564a53c48b9fff06fc1b642a06" title="Macro for allocating memory using the malloc() function.">MALLOC()</a>, <a class="el" href="#a5038968dee3708c3e33a35f818c16452" title="Macro for allocating memory using the calloc() function.">CALLOC()</a> and <a class="el" href="#a698d049d23598a7e3997ecca97ac7e54" title="Macro for reallocating memory using the realloc() function.">REALLOC()</a> from this file make it possible to allocate dynamic memory. If they fail, they print an error message on the standard error, indicating the function, file and line where the allocation failed, and they then quit the program.</p>
<p>The function <a class="el" href="#a95dd19b1b2af33029f7ccb78d5f17039" title="Function to free memory using the free() function.">multiple_free()</a> is used to free several pointers at once. (warning, none of these pointers should be <code>NULL</code>, and all must have been dynamically allocated before the call.</p>
<p>The macro <a class="el" href="#aa44a749b8ec174a5780a521e07b9b86b" title="Macro to test if one or more pointers are NULL.">CHECK_NULL()</a> checks whether one or several pointers are non-<code>NULL</code>.</p>
<p>The function <a class="el" href="#a4310f3e2cf0b85c13534389cc7479f33" title="Do not use this function directly; instead, use the macro CHECK_NULL(), which includes the error&#39;s lo...">check_null()</a> shouldn't be used directly, it is used by the macro <a class="el" href="#aa44a749b8ec174a5780a521e07b9b86b" title="Macro to test if one or more pointers are NULL.">CHECK_NULL()</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5038968dee3708c3e33a35f818c16452" name="a5038968dee3708c3e33a35f818c16452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5038968dee3708c3e33a35f818c16452">&#9670;&#160;</a></span>CALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALLOC</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>num_objects</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                       \</div>
<div class="line">        DEBUG(<span class="stringliteral">&quot;Callocating  %lu objects.&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(num_objects));      \</div>
<div class="line">        <span class="keywordtype">void</span> *tmp = calloc((num_objects), <span class="keyword">sizeof</span> *(p));                        \</div>
<div class="line">        if (!tmp)                                                              \</div>
<div class="line">            FATAL(<span class="stringliteral">&quot;Calloc error.&quot;</span>);                                            \</div>
<div class="line">        (p) = tmp;                                                             \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Macro for allocating memory using the calloc() function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to be allocated. </td></tr>
    <tr><td class="paramname">num_objects</td><td>Number of objects to allocate.</td></tr>
  </table>
  </dd>
</dl>
<p>Allocates memory, initialized at 0, to store <code>num_objects</code>, * each of type <code>*p</code>.</p>
<p><b>Example of use:</b> </p><div class="fragment"><div class="line"><span class="keyword">struct </span>foo *p;</div>
<div class="line"><a class="code hl_define" href="#a5038968dee3708c3e33a35f818c16452">CALLOC</a>(p, 10); <span class="comment">// Allocates an array of 10 struct foo, initialized to 0.</span></div>
<div class="ttc" id="aalloc_8h_html_a5038968dee3708c3e33a35f818c16452"><div class="ttname"><a href="#a5038968dee3708c3e33a35f818c16452">CALLOC</a></div><div class="ttdeci">#define CALLOC(p, num_objects)</div><div class="ttdoc">Macro for allocating memory using the calloc() function.</div><div class="ttdef"><b>Definition</b> alloc.h:83</div></div>
</div><!-- fragment --><p>If allocation fails, displays an error message and quits the program.</p>
<dl class="section attention"><dt>Attention</dt><dd>The pointer <code>p</code> must have been declared, but must not point to an already dynamically allocated area (otherwise a memory leak will occur). If <code>p</code> already points to a dynamically allocated area, use REALLOC.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a698d049d23598a7e3997ecca97ac7e54" title="Macro for reallocating memory using the realloc() function.">REALLOC()</a>. </dd></dl>

</div>
</div>
<a id="aa44a749b8ec174a5780a521e07b9b86b" name="aa44a749b8ec174a5780a521e07b9b86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa44a749b8ec174a5780a521e07b9b86b">&#9670;&#160;</a></span>CHECK_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_NULL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_function" href="alloc_8c.html#a4310f3e2cf0b85c13534389cc7479f33">check_null</a>(__func__, __FILE__, __LINE__, n __VA_OPT__(, ) __VA_ARGS__)</div>
<div class="ttc" id="aalloc_8c_html_a4310f3e2cf0b85c13534389cc7479f33"><div class="ttname"><a href="alloc_8c.html#a4310f3e2cf0b85c13534389cc7479f33">check_null</a></div><div class="ttdeci">void check_null(const char *function, char *file, int line, int n,...)</div><div class="ttdoc">Do not use this function directly; instead, use the macro CHECK_NULL(), which includes the error&#39;s lo...</div><div class="ttdef"><b>Definition</b> alloc.c:18</div></div>
</div><!-- fragment -->
<p>Macro to test if one or more pointers are NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Number of pointers to test. </td></tr>
    <tr><td class="paramname">...</td><td>Pointers to test, alternating with strings.</td></tr>
  </table>
  </dd>
</dl>
<p>There must be one pointer to test for each string, and vice versa.</p>
<p>The string following each pointer allows customizing the error message.</p>
<p><b>Example of use:</b> </p><div class="fragment"><div class="line"><a class="code hl_define" href="#aa44a749b8ec174a5780a521e07b9b86b">CHECK_NULL</a>(3, p1, <span class="stringliteral">&quot;Name1&quot;</span>, p2, <span class="stringliteral">&quot;Name2&quot;</span>, p3, <span class="stringliteral">&quot;Name3&quot;</span>);</div>
<div class="ttc" id="aalloc_8h_html_aa44a749b8ec174a5780a521e07b9b86b"><div class="ttname"><a href="#aa44a749b8ec174a5780a521e07b9b86b">CHECK_NULL</a></div><div class="ttdeci">#define CHECK_NULL(n,...)</div><div class="ttdoc">Macro to test if one or more pointers are NULL.</div><div class="ttdef"><b>Definition</b> alloc.h:163</div></div>
</div><!-- fragment --><p> Here, 3 is the number of pointers to check, and <code>p1</code>, <code>p2</code>, and <code>p3</code> are the pointers. If <code>p1</code> and <code>p3</code> are NULL, the macro will display an error message in the following form:</p>
<p>[CRITICAL] Name1 is NULL!<br  />
 [CRITICAL] Name3 is NULL!</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4310f3e2cf0b85c13534389cc7479f33" title="Do not use this function directly; instead, use the macro CHECK_NULL(), which includes the error&#39;s lo...">check_null()</a> </dd></dl>

</div>
</div>
<a id="ab1cd6d564a53c48b9fff06fc1b642a06" name="ab1cd6d564a53c48b9fff06fc1b642a06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cd6d564a53c48b9fff06fc1b642a06">&#9670;&#160;</a></span>MALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MALLOC</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>num_objects</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                       \</div>
<div class="line">        DEBUG(<span class="stringliteral">&quot;Allocating  %lu objects.&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(num_objects));       \</div>
<div class="line">        <span class="keywordtype">void</span> *tmp = malloc(<span class="keyword">sizeof</span> *(p) * (num_objects));                       \</div>
<div class="line">        if (!tmp)                                                              \</div>
<div class="line">            FATAL(<span class="stringliteral">&quot;Malloc error.&quot;</span>);                                            \</div>
<div class="line">        (p) = tmp;                                                             \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Macro for allocating memory using the malloc() function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to be allocated. </td></tr>
    <tr><td class="paramname">num_objects</td><td>Number of objects to allocate.</td></tr>
  </table>
  </dd>
</dl>
<p>Allocates memory to store <code>num_objects</code>, each of type <code>*p</code>.</p>
<p><b>Example of use:</b> </p><div class="fragment"><div class="line"><span class="keyword">struct </span>foo *p;</div>
<div class="line"><a class="code hl_define" href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a>(p, 10); <span class="comment">// Allocate an array of 10 struct foo.</span></div>
<div class="ttc" id="aalloc_8h_html_ab1cd6d564a53c48b9fff06fc1b642a06"><div class="ttname"><a href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a></div><div class="ttdeci">#define MALLOC(p, num_objects)</div><div class="ttdoc">Macro for allocating memory using the malloc() function.</div><div class="ttdef"><b>Definition</b> alloc.h:51</div></div>
</div><!-- fragment --><p>If allocation fails, displays an error message and quits the program.</p>
<dl class="section attention"><dt>Attention</dt><dd>The <code>p</code> pointer must have been declared, but must not point to a zone that has already been dynamically allocated (otherwise a memory leak will occur). If <code>p</code> already points to a dynamically allocated zone, use REALLOC.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a698d049d23598a7e3997ecca97ac7e54" title="Macro for reallocating memory using the realloc() function.">REALLOC()</a> </dd></dl>

</div>
</div>
<a id="a698d049d23598a7e3997ecca97ac7e54" name="a698d049d23598a7e3997ecca97ac7e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698d049d23598a7e3997ecca97ac7e54">&#9670;&#160;</a></span>REALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REALLOC</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>num_objects</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                       \</div>
<div class="line">        DEBUG(<span class="stringliteral">&quot;Reallocating  %lu objects.&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(num_objects));     \</div>
<div class="line">        <span class="keywordtype">void</span> *tmp = realloc((p), <span class="keyword">sizeof</span> *(p) * (num_objects));                 \</div>
<div class="line">        if (!tmp) {                                                            \</div>
<div class="line">            FATAL(<span class="stringliteral">&quot;Realloc error.&quot;</span>);                                           \</div>
<div class="line">        }                                                                      \</div>
<div class="line">        (p) = tmp;                                                             \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Macro for reallocating memory using the realloc() function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to be allocated. </td></tr>
    <tr><td class="paramname">num_objects</td><td>New number of objects to allocate.</td></tr>
  </table>
  </dd>
</dl>
<p>Reallocates memory pointed to by a pointer <code>p</code>, whose value must have been previously returned by a dynamic allocation function (<code>malloc</code>, <code>calloc</code>, <code>realloc</code> or one of the macros in this file).</p>
<p>If allocation fails, displays an error message and quits the program.</p>
<p><b>Example of use:</b> </p><div class="fragment"><div class="line"><span class="keyword">struct </span>foo *p;</div>
<div class="line"><a class="code hl_define" href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a>(p, 10); <span class="comment">// Allocate an array of 10 struct foo.</span></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><a class="code hl_define" href="#a698d049d23598a7e3997ecca97ac7e54">REALLOC</a>(p, 20); <span class="comment">// Re-allocate an array of 20 struct foo by copying the</span></div>
<div class="line">                <span class="comment">// original array at the begining of the new array, and</span></div>
<div class="line">                <span class="comment">// assign the address of the first cell in this array to `p`.</span></div>
<div class="ttc" id="aalloc_8h_html_a698d049d23598a7e3997ecca97ac7e54"><div class="ttname"><a href="#a698d049d23598a7e3997ecca97ac7e54">REALLOC</a></div><div class="ttdeci">#define REALLOC(p, num_objects)</div><div class="ttdoc">Macro for reallocating memory using the realloc() function.</div><div class="ttdef"><b>Definition</b> alloc.h:120</div></div>
</div><!-- fragment --><p>If allocation fails, displays an error message and quits the program.</p>
<dl class="section attention"><dt>Attention</dt><dd>The <code>p</code> pointer must have been declared and point to an already dynamically allocated zone. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ab1cd6d564a53c48b9fff06fc1b642a06" title="Macro for allocating memory using the malloc() function.">MALLOC()</a>, <a class="el" href="#a5038968dee3708c3e33a35f818c16452" title="Macro for allocating memory using the calloc() function.">CALLOC()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4310f3e2cf0b85c13534389cc7479f33" name="a4310f3e2cf0b85c13534389cc7479f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4310f3e2cf0b85c13534389cc7479f33">&#9670;&#160;</a></span>check_null()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_null </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>function</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do not use this function directly; instead, use the macro <a class="el" href="#aa44a749b8ec174a5780a521e07b9b86b" title="Macro to test if one or more pointers are NULL.">CHECK_NULL()</a>, which includes the error's location in the source code in the message. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa44a749b8ec174a5780a521e07b9b86b" title="Macro to test if one or more pointers are NULL.">CHECK_NULL()</a> </dd></dl>

</div>
</div>
<a id="a95dd19b1b2af33029f7ccb78d5f17039" name="a95dd19b1b2af33029f7ccb78d5f17039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95dd19b1b2af33029f7ccb78d5f17039">&#9670;&#160;</a></span>multiple_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void multiple_free </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to free memory using the free() function. </p>
<p>Calls free on a variable number of arguments. The last argument must be NULL.</p>
<p>Example of use: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> *p1, *p2, *p3;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a>(p1, 10); <span class="comment">// Allocates an array of 10 ints.</span></div>
<div class="line"><a class="code hl_define" href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a>(p2, 10);</div>
<div class="line"><a class="code hl_define" href="#ab1cd6d564a53c48b9fff06fc1b642a06">MALLOC</a>(p3, 10);</div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"><a class="code hl_function" href="alloc_8c.html#a95dd19b1b2af33029f7ccb78d5f17039">multiple_free</a>(p1, p2, p3, NULL);</div>
<div class="ttc" id="aalloc_8c_html_a95dd19b1b2af33029f7ccb78d5f17039"><div class="ttname"><a href="alloc_8c.html#a95dd19b1b2af33029f7ccb78d5f17039">multiple_free</a></div><div class="ttdeci">void multiple_free(void *p,...)</div><div class="ttdoc">Function to free memory using the free() function.</div><div class="ttdef"><b>Definition</b> alloc.c:8</div></div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>This function is dangerous and should only be used if you know what you are doing! The pointers to be freed <b>must not</b> be NULL. In the example above, if <code>p2</code> is NULL, <code>p3</code> will not be freed, which can cause a memory leak. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="alloc_8h.html">alloc.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
